<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - SereNya.pk</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --lilac-light: #f8f5ff;
      --lilac-subtle: #e6d7ff;
      --lilac-medium: #d1b3ff;
      --lilac-dark: #b19cd9;
      --text-dark: #2d2d2d;
      --text-light: #666;
      --card-bg: #fafafa;
      --border-color: #e6d7ff;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: #ffffff; color: var(--text-dark); }
    .top-bar { height: 40px; background: var(--lilac-subtle); display: flex; align-items: center; justify-content: center; font-size: 14px; color: var(--text-dark); font-weight: 500; }
    .nav-bar { height: 100px; background: #fff; display: flex; align-items: center; justify-content: center; padding: 0 40px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); position: sticky; top: 0; z-index: 100; }
    .nav-center { font-size: 32px; font-weight: 700; letter-spacing: 2px; font-family: 'Playfair Display', serif; cursor: pointer; }
    
    .main-content { max-width: 1400px; margin: 0 auto; padding: 2rem; display: grid; grid-template-columns: 1fr 400px; gap: 2rem; }
    .checkout-form { background: #fff; }
    .form-section { margin-bottom: 2.5rem; }
    .form-section-title { font-family: 'Playfair Display', serif; font-size: 1.5rem; font-weight: 700; color: var(--text-dark); margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 2px solid var(--lilac-subtle); }
    .form-group { margin-bottom: 1.5rem; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
    .form-row.full { grid-template-columns: 1fr; }
    label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-dark); font-size: 0.95rem; }
    input[type="text"], input[type="email"], input[type="tel"], select, textarea { width: 100%; padding: 0.9rem 1rem; border: 2px solid var(--lilac-subtle); border-radius: 8px; font-family: 'Inter', sans-serif; font-size: 1rem; color: var(--text-dark); transition: all 0.3s ease; }
    input[type="text"]:focus, input[type="email"]:focus, input[type="tel"]:focus, select:focus, textarea:focus { outline: none; border-color: var(--lilac-dark); box-shadow: 0 0 0 3px rgba(177, 156, 217, 0.1); }
    input::placeholder { color: #999; }
    .checkbox-group { display: flex; align-items: center; gap: 0.75rem; margin-top: 1rem; }
    .checkbox-group input[type="checkbox"] { width: 20px; height: 20px; cursor: pointer; accent-color: var(--lilac-dark); }
    .checkbox-group label { margin: 0; cursor: pointer; font-size: 0.95rem; }
    .radio-group { display: flex; flex-direction: column; gap: 1rem; margin-top: 1rem; }
    .radio-option { display: flex; align-items: center; padding: 1rem; border: 2px solid var(--lilac-subtle); border-radius: 8px; cursor: pointer; transition: all 0.3s ease; }
    .radio-option:hover { border-color: var(--lilac-dark); background: var(--lilac-light); }
    .radio-option input[type="radio"] { width: 20px; height: 20px; cursor: pointer; accent-color: var(--lilac-dark); margin-right: 1rem; }
    .radio-option-content { flex: 1; }
    .radio-option-title { font-weight: 600; color: var(--text-dark); margin-bottom: 0.25rem; }
    .radio-option-price { font-size: 0.9rem; color: var(--lilac-dark); font-weight: 600; }
    .payment-info { background: var(--lilac-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; border-left: 4px solid var(--lilac-dark); }
    .payment-info-title { font-weight: 600; color: var(--text-dark); margin-bottom: 0.75rem; }
    .payment-info-text { font-size: 0.9rem; color: var(--text-light); line-height: 1.5; }
    .payment-icons { display: flex; gap: 0.75rem; margin-top: 1rem; }
    .payment-icon { width: 40px; height: 25px; background: white; border: 1px solid var(--lilac-subtle); border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 600; color: var(--lilac-dark); }
    .order-summary { background: var(--lilac-light); border-radius: 12px; padding: 1.5rem; position: sticky; top: 140px; height: fit-content; }
    .summary-title { font-family: 'Playfair Display', serif; font-size: 1.3rem; font-weight: 700; color: var(--text-dark); margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 2px solid var(--lilac-subtle); }
    .summary-item { display: flex; gap: 1rem; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid var(--lilac-subtle); }
    .summary-item:last-of-type { border-bottom: none; margin-bottom: 1rem; padding-bottom: 0; }
    .summary-item-image { width: 80px; height: 80px; border-radius: 8px; object-fit: cover; border: 1px solid var(--lilac-subtle); }
    .summary-item-info { flex: 1; }
    .summary-item-name { font-weight: 600; color: var(--text-dark); margin-bottom: 0.25rem; font-size: 0.95rem; }
    .summary-item-color { font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.5rem; }
    .summary-item-qty { font-size: 0.85rem; color: var(--text-light); }
    .summary-item-price { font-weight: 700; color: var(--lilac-dark); font-size: 1rem; }
    .summary-totals { background: white; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; }
    .summary-row { display: flex; justify-content: space-between; margin-bottom: 0.75rem; font-size: 0.95rem; }
    .summary-row.total { border-top: 2px solid var(--lilac-subtle); padding-top: 0.75rem; margin-top: 0.75rem; font-size: 1.2rem; font-weight: 700; color: var(--text-dark); }
    .summary-row.total .amount { color: var(--lilac-dark); }
    .discount-code { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; }
    .discount-code input { flex: 1; padding: 0.75rem; border: 2px solid var(--lilac-subtle); border-radius: 8px; font-size: 0.9rem; }
    .discount-code button { padding: 0.75rem 1.5rem; background: var(--lilac-subtle); border: none; border-radius: 8px; color: var(--text-dark); font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-size: 0.9rem; }
    .discount-code button:hover { background: var(--lilac-dark); color: white; }
    
    .continue-shopping-summary-btn {
        display: block;
        width: 100%;
        text-align: center;
        padding: 1rem;
        background: white;
        color: var(--lilac-dark);
        border: 2px solid var(--lilac-dark);
        border-radius: 8px;
        font-family: 'Inter', sans-serif;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        margin-bottom: 1.5rem;
    }

    .continue-shopping-summary-btn:hover {
        background: var(--lilac-dark);
        color: white;
        transform: translateY(-2px);
    }
    
    .pay-button { width: 100%; padding: 1.2rem; background: var(--text-dark); color: white; border: none; border-radius: 8px; font-family: 'Inter', sans-serif; font-weight: 600; font-size: 1.1rem; cursor: pointer; transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px; }
    .pay-button:hover { background: var(--lilac-dark); transform: translateY(-2px); box-shadow: 0 10px 25px rgba(177, 156, 217, 0.3); }
    .footer-links { display: flex; justify-content: center; gap: 2rem; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--lilac-subtle); font-size: 0.9rem; }
    .footer-links a { color: var(--text-light); text-decoration: underline; cursor: pointer; transition: color 0.3s ease; }
    .footer-links a:hover { color: var(--lilac-dark); }
    /* Custom Notification Styles */
    .notification { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(150%); background-color: #2d2d2d; color: white; padding: 1rem 2rem; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); z-index: 10002; transition: transform 0.4s ease-in-out; font-family: 'Inter', sans-serif; }
    .notification.success { background-color: #2ed573; }
    .notification.error { background-color: #ff4757; }
    .notification.show { transform: translateX(-50%) translateY(0); }
    @media (max-width: 1024px) { .main-content { grid-template-columns: 1fr; } .order-summary { position: static; } }
    @media (max-width: 768px) { .nav-bar { padding: 0 20px; height: 80px; justify-content:center; } .nav-center { font-size: 24px; } .main-content { padding: 1.5rem; gap: 1.5rem; } .form-row { grid-template-columns: 1fr; } .form-section-title { font-size: 1.3rem; } .footer-links { flex-wrap: wrap; gap: 1rem; font-size: 0.85rem; } }
    @media (max-width: 480px) { .nav-bar { padding: 0 15px; } .main-content { padding: 1rem; } .form-section { margin-bottom: 1.5rem; } .form-section-title { font-size: 1.1rem; margin-bottom: 1rem; } input[type="text"], input[type="email"], input[type="tel"], select { padding: 0.75rem 0.75rem; font-size: 16px; } .order-summary { padding: 1rem; } .summary-item-image { width: 60px; height: 60px; } .pay-button { padding: 1rem; font-size: 1rem; } }
  </style>
</head>
<body>
  <div class="top-bar">
    <span>Use code WELCOME10 for 10% off</span>
  </div>

  <div class="nav-bar">
    <div class="nav-center" onclick="window.location.href='index.html'">SereNya</div>
  </div>

  <main class="main-content">
    <div class="checkout-form">
      <!-- Contact Section -->
      <div class="form-section">
        <h2 class="form-section-title">Contact</h2>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" placeholder="your@email.com" required>
        </div>
        <div class="checkbox-group">
          <input type="checkbox" id="newsletter" checked>
          <label for="newsletter">Email me with news and offers</label>
        </div>
      </div>

      <!-- Delivery Section -->
      <div class="form-section">
        <h2 class="form-section-title">Delivery</h2>
        <div class="form-group">
          <label for="country">Country/Region</label>
          <select id="country" required>
            <option value="">Select Country</option>
            <option value="pakistan" selected>Pakistan</option>
            <option value="usa">United States</option>
            <option value="uk">United Kingdom</option>
            <option value="canada">Canada</option>
            <option value="australia">Australia</option>
          </select>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="firstName">First name (optional)</label>
            <input type="text" id="firstName" placeholder="First name">
          </div>
          <div class="form-group">
            <label for="lastName">Last name</label>
            <input type="text" id="lastName" placeholder="Last name" required>
          </div>
        </div>

        <div class="form-group">
          <label for="address">Address</label>
          <input type="text" id="address" placeholder="Street address" required>
        </div>

        <div class="form-group">
          <label for="apartment">Apartment, suite, etc. (optional)</label>
          <input type="text" id="apartment" placeholder="Apartment, suite, etc.">
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="city">City</label>
            <input type="text" id="city" placeholder="City" required>
          </div>
          <div class="form-group">
            <label for="postal">Postal code (optional)</label>
            <input type="text" id="postal" placeholder="Postal code">
          </div>
        </div>

        <div class="form-group">
          <label for="phone">Phone</label>
          <input type="tel" id="phone" placeholder="+92 300 1234567" required>
        </div>

        <div class="checkbox-group">
          <input type="checkbox" id="saveInfo">
          <label for="saveInfo">Save this information for next time</label>
        </div>
      </div>

      <!-- Shipping Method Section -->
      <div class="form-section">
        <h2 class="form-section-title">Shipping method</h2>
        <div class="radio-group">
          <label class="radio-option">
            <input type="radio" name="shipping" value="standard" checked>
            <div class="radio-option-content">
              <div class="radio-option-title">All Over Pakistan</div>
              <div class="radio-option-price">Rs 250.00</div>
            </div>
          </label>
          <label class="radio-option">
            <input type="radio" name="shipping" value="express">
            <div class="radio-option-content">
              <div class="radio-option-title">Express Delivery (1-2 days)</div>
              <div class="radio-option-price">Rs 500.00</div>
            </div>
          </label>
        </div>
      </div>

      <!-- Payment Section -->
      <div class="form-section">
        <h2 class="form-section-title">Payment</h2>
        <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.95rem;">All transactions are secure and encrypted.</p>

        <div class="radio-group">
          <label class="radio-option">
            <input type="radio" name="payment" value="payfast" checked>
            <div class="radio-option-content">
              <div class="radio-option-title">PAYFAST (Pay via Debit/Credit/Wallet/Bank Account)</div>
              <div class="payment-icons">
                <div class="payment-icon">VISA</div>
                <div class="payment-icon">MC</div>
                <div class="payment-icon">UP</div>
              </div>
            </div>
          </label>
        </div>

        <div class="payment-info">
          <div class="payment-info-title">Secure Payment Gateway</div>
          <div class="payment-info-text">
            After clicking "Pay now", you will be redirected to PAYFAST to complete your purchase securely.
          </div>
        </div>

        <div class="radio-group">
          <label class="radio-option">
            <input type="radio" name="payment" value="bank">
            <div class="radio-option-content">
              <div class="radio-option-title">Bank Deposit</div>
            </div>
          </label>
          <label class="radio-option">
            <input type="radio" name="payment" value="cod">
            <div class="radio-option-content">
              <div class="radio-option-title">Cash on Delivery (Pakistan)</div>
            </div>
          </label>
          <label class="radio-option">
            <input type="radio" name="payment" value="easypaisa">
            <div class="radio-option-content">
              <div class="radio-option-title">Easypaisa (Pakistan)</div>
            </div>
          </label>
        </div>
      </div>

      <!-- Billing Address Section -->
      <div class="form-section">
        <h2 class="form-section-title">Billing address</h2>
        <div class="radio-group">
          <label class="radio-option">
            <input type="radio" name="billing" value="same" checked>
            <div class="radio-option-content">
              <div class="radio-option-title">Same as shipping address</div>
            </div>
          </label>
          <label class="radio-option">
            <input type="radio" name="billing" value="different">
            <div class="radio-option-content">
              <div class="radio-option-title">Use a different billing address</div>
            </div>
          </label>
        </div>
      </div>

      <!-- Pay Button -->
      <button class="pay-button" onclick="processCheckout()">Pay now</button>

      <!-- Footer Links -->
      <div class="footer-links">
        <a href="#">Refund policy</a>
        <a href="#">Shipping</a>
        <a href="#">Privacy policy</a>
        <a href="#">Terms of service</a>
      </div>
    </div>

    <!-- Order Summary Sidebar -->
    <div class="order-summary">
      <h3 class="summary-title">Order Summary</h3>
      
      <div id="cartItems"></div>

      <div class="summary-totals">
        <div class="summary-row">
          <span>Subtotal</span>
          <span id="subtotal">Rs. 0</span>
        </div>
        <div class="summary-row">
          <span>Shipping</span>
          <span id="shipping">Rs. 250.00</span>
        </div>
        <div class="summary-row total">
          <span>Total</span>
          <span class="amount" id="total">Rs. 0</span>
        </div>
      </div>

      <div class="discount-code">
        <input type="text" id="discountInput" placeholder="Discount code">
        <button onclick="applyDiscount()">Apply</button>
      </div>
        
      <a href="index.html" class="continue-shopping-summary-btn">
        Continue Shopping
      </a>

    </div>
  </main>
  
  <!-- Notification Element -->
  <div id="notification" class="notification">
    <p id="notificationMessage"></p>
  </div>

  <script>
    // Load cart data from sessionStorage
    function loadCheckoutData() {
      const cartData = sessionStorage.getItem('checkout_cart');
      const cartTotal = sessionStorage.getItem('checkout_total');

      if (cartData) {
        const cart = JSON.parse(cartData);
        displayCartItems(cart);
        updateTotals(JSON.parse(cartTotal || '0'));
      }
    }

    function displayCartItems(cart) {
      const cartItemsContainer = document.getElementById('cartItems');
      cartItemsContainer.innerHTML = '';

      cart.forEach(item => {
        const itemElement = document.createElement('div');
        itemElement.className = 'summary-item';
        itemElement.innerHTML = `
          <img src="${item.image}" alt="${item.name}" class="summary-item-image">
          <div class="summary-item-info">
            <div class="summary-item-name">${item.name}</div>
            <div class="summary-item-color">Color: ${item.color}</div>
            <div class="summary-item-qty">Qty: ${item.quantity}</div>
          </div>
          <div class="summary-item-price">Rs. ${(item.price * item.quantity).toLocaleString()}</div>
        `;
        cartItemsContainer.appendChild(itemElement);
      });
    }

    function updateTotals(subtotal) {
      const shippingCost = 250;
      const total = subtotal + shippingCost;

      document.getElementById('subtotal').textContent = `Rs. ${subtotal.toLocaleString()}`;
      document.getElementById('shipping').textContent = `Rs. ${shippingCost.toLocaleString()}`;
      document.getElementById('total').textContent = `Rs. ${total.toLocaleString()}`;
    }

    // --- ALERT REPLACED ---
    function applyDiscount() {
      const discountCode = document.getElementById('discountInput').value;
      if (discountCode.toUpperCase() === 'WELCOME10') {
        showNotification('Discount applied! 10% off', 'success');
        // Implement discount logic here
      } else {
        showNotification('Invalid discount code', 'error');
      }
    }

    // --- ALERT REPLACED ---
    function processCheckout() {
      const email = document.getElementById('email').value;
      const lastName = document.getElementById('lastName').value;
      const address = document.getElementById('address').value;
      const city = document.getElementById('city').value;
      const phone = document.getElementById('phone').value;

      if (!email || !lastName || !address || !city || !phone) {
        showNotification('Please fill in all required fields', 'error');
        return;
      }

      const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
      
      if (paymentMethod === 'payfast') {
        showNotification('Redirecting to PAYFAST payment gateway...');
        // In a real implementation, redirect to PAYFAST
        // window.location.href = 'https://payfast.com/...';
      } else if (paymentMethod === 'cod') {
        showNotification('Order confirmed! You will pay on delivery.', 'success');
        // Clear cart and redirect
        sessionStorage.removeItem('checkout_cart');
        sessionStorage.removeItem('checkout_total');
        setTimeout(() => { window.location.href = 'index.html'; }, 2000);
      } else {
        showNotification('Processing payment with ' + paymentMethod);
      }
    }
    
    // --- NEW NOTIFICATION FUNCTION ---
    function showNotification(message, type = 'default') {
      const notification = document.getElementById('notification');
      const messageElement = document.getElementById('notificationMessage');
      if (!notification || !messageElement) return;

      messageElement.textContent = message;
      notification.className = 'notification'; // Reset classes
      if (type === 'success') {
        notification.classList.add('success');
      } else if (type === 'error') {
        notification.classList.add('error');
      }
      
      notification.classList.add('show');

      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000); // Hide after 3 seconds
    }


    // Load data when page loads
    document.addEventListener('DOMContentLoaded', loadCheckoutData);
  </script>
</body>
</html>

